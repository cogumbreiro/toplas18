---
layout: default
---
<pre class="code"><span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Brenner.Vars.html#"><span class="id" title="library">Vars</span></a>.<br/><span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Brenner.PhaserMap.html#"><span class="id" title="library">PhaserMap</span></a>.<br/></pre>
<a name="lab3"><h1>Programs</h1></a><p>Declares the language of a program.</p>
<pre class="code"><span class="id" title="keyword">Inductive</span> <a name="prog"><span class="id" title="inductive">prog</span></a> :=<br/>  | <a name="pcons"><span class="id" title="constructor">pcons</span></a> : <a class="idref" href="Brenner.Syntax.html#inst"><span class="id" title="inductive">inst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Brenner.Syntax.html#prog"><span class="id" title="inductive">prog</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Brenner.Syntax.html#prog"><span class="id" title="inductive">prog</span></a><br/>  | <a name="pnil"><span class="id" title="constructor">pnil</span></a> : <a class="idref" href="Brenner.Syntax.html#prog"><span class="id" title="inductive">prog</span></a><br/><span class="id" title="keyword">with</span> <a name="inst"><span class="id" title="inductive">inst</span></a> :=<br/>  | <a name="new_tid"><span class="id" title="constructor">new_tid</span></a> : <a class="idref" href="Brenner.Vars.html#tid"><span class="id" title="definition">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Brenner.Syntax.html#inst"><span class="id" title="inductive">inst</span></a><br/>  | <a name="fork"><span class="id" title="constructor">fork</span></a> : <a class="idref" href="Brenner.Vars.html#tid"><span class="id" title="definition">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Brenner.Syntax.html#prog"><span class="id" title="inductive">prog</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Brenner.Syntax.html#inst"><span class="id" title="inductive">inst</span></a><br/>  | <a name="pm_op"><span class="id" title="constructor">pm_op</span></a>: <a class="idref" href="Brenner.PhaserMap.html#op"><span class="id" title="inductive">PhaserMap.op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Brenner.Syntax.html#inst"><span class="id" title="inductive">inst</span></a><br/>  | <a name="await"><span class="id" title="constructor">await</span></a>: <a class="idref" href="Brenner.Vars.html#phid"><span class="id" title="definition">phid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Brenner.Syntax.html#inst"><span class="id" title="inductive">inst</span></a><br/>  | <a name="c_op"><span class="id" title="constructor">c_op</span></a>: <a class="idref" href="Brenner.Syntax.html#cflow"><span class="id" title="inductive">cflow</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Brenner.Syntax.html#inst"><span class="id" title="inductive">inst</span></a><br/><span class="id" title="keyword">with</span> <a name="cflow"><span class="id" title="inductive">cflow</span></a> :=<br/>  | <a name="skip"><span class="id" title="constructor">skip</span></a> : <a class="idref" href="Brenner.Syntax.html#cflow"><span class="id" title="inductive">cflow</span></a><br/>  | <a name="loop"><span class="id" title="constructor">loop</span></a> : <a class="idref" href="Brenner.Syntax.html#prog"><span class="id" title="inductive">prog</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Brenner.Syntax.html#cflow"><span class="id" title="inductive">cflow</span></a>.<br/><span class="id" title="keyword">Fixpoint</span> <a name="concat"><span class="id" title="definition">concat</span></a> (<span class="id" title="var">p</span>:<a class="idref" href="Brenner.Syntax.html#prog"><span class="id" title="inductive">prog</span></a>) (<span class="id" title="var">q</span>:<a class="idref" href="Brenner.Syntax.html#prog"><span class="id" title="inductive">prog</span></a>) :=<br/>  <span class="id" title="keyword">match</span> <a class="idref" href="Brenner.Syntax.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>    | <a class="idref" href="Brenner.Syntax.html#pcons"><span class="id" title="constructor">pcons</span></a> <span class="id" title="var">i</span> <span class="id" title="var">p'</span> =&gt; <a class="idref" href="Brenner.Syntax.html#pcons"><span class="id" title="constructor">pcons</span></a> <span class="id" title="var">i</span> (<a class="idref" href="Brenner.Syntax.html#concat"><span class="id" title="definition">concat</span></a> <span class="id" title="var">p'</span> <a class="idref" href="Brenner.Syntax.html#q"><span class="id" title="variable">q</span></a>)<br/>    | <a class="idref" href="Brenner.Syntax.html#pnil"><span class="id" title="constructor">pnil</span></a> =&gt; <a class="idref" href="Brenner.Syntax.html#q"><span class="id" title="variable">q</span></a><br/>  <span class="id" title="keyword">end</span>.<br/></pre>
<p>Declares a concrete syntax to simplify writing programs.</p>
<pre class="code"><span class="id" title="keyword">Module</span> <a name="CST"><span class="id" title="module">CST</span></a>.<br/><span class="id" title="keyword">Notation</span> <a name="769f5965a12b38fb0137298cbc76e4be"><span class="id" title="notation">"</span></a>'END'" := (<a class="idref" href="Brenner.Syntax.html#pnil"><span class="id" title="constructor">pnil</span></a>).<br/><span class="id" title="keyword">Infix</span> <a name="5539c70def9f1669185cba3822db09b1"><span class="id" title="notation">"</span></a>;;" := <a class="idref" href="Brenner.Syntax.html#pcons"><span class="id" title="constructor">pcons</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 62, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/><span class="id" title="keyword">Notation</span> <a name="3142346a70a43e995e45e3621f394cf4"><span class="id" title="notation">"</span></a>'DEREG' ( ph )" :=<br/>  (<a class="idref" href="Brenner.Syntax.html#pm_op"><span class="id" title="constructor">pm_op</span></a> (<a class="idref" href="Brenner.PhaserMap.html#APP"><span class="id" title="constructor">PhaserMap.APP</span></a> <span class="id" title="var">ph</span> <a class="idref" href="Brenner.Phaser.html#DEREG"><span class="id" title="constructor">Phaser.DEREG</span></a>)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 65).<br/><span class="id" title="keyword">Notation</span> <a name="f536a56f62c99a02f4929cabff0efab8"><span class="id" title="notation">"</span></a>'REG' ( ph , t )" :=<br/>  (<a class="idref" href="Brenner.Syntax.html#pm_op"><span class="id" title="constructor">pm_op</span></a> (<a class="idref" href="Brenner.PhaserMap.html#APP"><span class="id" title="constructor">PhaserMap.APP</span></a> <span class="id" title="var">ph</span> (<a class="idref" href="Brenner.Phaser.html#REG"><span class="id" title="constructor">Phaser.REG</span></a> <span class="id" title="var">t</span>))) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 65).<br/><span class="id" title="keyword">Notation</span> <a name="6393ee474809b59b888abd0f597dc865"><span class="id" title="notation">"</span></a>'ADV' ( ph ) " :=<br/>  (<a class="idref" href="Brenner.Syntax.html#pm_op"><span class="id" title="constructor">pm_op</span></a> (<a class="idref" href="Brenner.PhaserMap.html#APP"><span class="id" title="constructor">PhaserMap.APP</span></a> <span class="id" title="var">ph</span> <a class="idref" href="Brenner.Phaser.html#ADV"><span class="id" title="constructor">Phaser.ADV</span></a>)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 65).<br/><span class="id" title="keyword">Notation</span> <a name="1abc30b67be8d339933234dfac8a8e1b"><span class="id" title="notation">"</span></a>p '&lt;-' 'NEW_PHASER'" :=<br/>  (<a class="idref" href="Brenner.Syntax.html#pm_op"><span class="id" title="constructor">pm_op</span></a> (<a class="idref" href="Brenner.PhaserMap.html#NEW"><span class="id" title="constructor">PhaserMap.NEW</span></a> <span class="id" title="var">p</span>)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 65).<br/><span class="id" title="keyword">Notation</span> <a name="c98a4958d9ae301ca118d074b08c512e"><span class="id" title="notation">"</span></a>t '&lt;-' 'NEW_TID'" := (<a class="idref" href="Brenner.Syntax.html#new_tid"><span class="id" title="constructor">new_tid</span></a> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 65).<br/><span class="id" title="keyword">Notation</span> <a name="d8ee6173c1a692ce78d6e35b9228c510"><span class="id" title="notation">"</span></a>'FORK' ( t , b ) " := (<a class="idref" href="Brenner.Syntax.html#fork"><span class="id" title="constructor">fork</span></a> <span class="id" title="var">t</span> <span class="id" title="var">b</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 65).<br/><span class="id" title="keyword">Notation</span> <a name="ab9a9e46f11c902f193da9b6334564c5"><span class="id" title="notation">"</span></a>'CFLOW'" := <a class="idref" href="Brenner.Syntax.html#c_op"><span class="id" title="constructor">c_op</span></a>.<br/><span class="id" title="keyword">Notation</span> <a name="f0a0364c9088f8c189b6a850e2766538"><span class="id" title="notation">"</span></a>'LOOP' ( b )" := (<a class="idref" href="Brenner.Syntax.html#c_op"><span class="id" title="constructor">c_op</span></a> (<a class="idref" href="Brenner.Syntax.html#loop"><span class="id" title="constructor">loop</span></a> <span class="id" title="var">b</span>)).<br/><span class="id" title="keyword">Notation</span> <a name="5bcff179f4676a9c426d90009f92d049"><span class="id" title="notation">"</span></a>'SKIP'" := (<a class="idref" href="Brenner.Syntax.html#ab9a9e46f11c902f193da9b6334564c5"><span class="id" title="notation">CFLOW</span></a> <a class="idref" href="Brenner.Syntax.html#ab9a9e46f11c902f193da9b6334564c5"><span class="id" title="notation">skip</span></a>).<br/><span class="id" title="keyword">End</span> <a class="idref" href="Brenner.Syntax.html#CST"><span class="id" title="module">CST</span></a>.<br/></pre>
